<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>排序</title>
	<!-- <script type="text/javascript" src="jquery-3.1.1.min.js"></script> -->
	<script type="text/javascript" src="ini.js"></script>
	<script type="text/javascript">
	window.onload=function(){
		function fun(id){
			var target=document.getElementById(id);
			var btns=target.getElementsByTagName("button");
			var divs=target.getElementsByClassName("bottom")[0].getElementsByTagName("div");
			console.log(btns.length+'--'+divs.length);
			for(var i = 0, length1 = btns.length; i < length1; i++){
				btns[i].index=i;
				btns[i].onclick=function(){
					//alert(this.index);
					for(var i = 0, length1 = btns.length; i < length1; i++){
						btns[i].className='';
						divs[i].style.display="none";
					}
					this.className="now";
					divs[this.index].style.display="block";
				}
			}

		}
		fun("box");
		fun("box2");
		function fun2(id){
			var target=document.getElementById(id);
			var btns=target.getElementsByTagName("button");
			var divs=target.getElementsByClassName("bottom")[0].getElementsByTagName("div");
			console.log(btns.length+'--'+divs.length);
			for(var i = 0, length1 = btns.length; i < length1; i++){
				//btns[i].index=i;
				var timer=null;
				btns[i].onmouseover=function(j){
					return function(){
						clearInterval(timer);
						timer=setTimeout(function(){
								for(var i = 0, length1 = btns.length; i < length1; i++){
										btns[i].className='';
										divs[i].style.display="none";
									}
									btns[j].className="now";
									divs[j].style.display="block";
								},500);
							}
				}(i);
				btns[i].onmouseout=function(){
					clearInterval(timer);
					//setTimeout(function(){clearInterval(timer);}, 1000);
				}
			}

		}
		fun2("box3");

		
	}
	</script>

	<style type="text/css">
	.box{
		width: 500px;
		height: 500px;
		line-height: 100px;
		margin:  100px auto;
		overflow: hidden;
	}
	.top{
		background: green;
	}
	.top button.now{
		background: blue;
	}
	.bottom{
		width: 100%;
		height: 300px;
		background: pink;
		position: relative;
	}
	.bottom div{
		position: absolute;
		top: 10px;
		left: 10px;
		z-index: 0;
		display: none;
	}
	.bottom div:nth-child(1){
		display: block;
	}
	</style>

</head>
<body>
<div id="box" class="box">
  <div class="top">
  	<button class="now">1</button>
  	<button>2</button>
  	<button>3</button>
  </div>
  <div class="bottom">
  	<div class="b now" >1号</div>
  	<div class="b">2号</div>
  	<div class="b">3号</div>
  </div>
</div>
<div id="box2">
  <div class="top">
  	<button class="now">1</button>
  	<button>2</button>
  	<button>3</button>
  </div>
  <div class="bottom">
  	<div class="b now" >1号</div>
  	<div class="b">2号</div>
  	<div class="b">3号</div>
  </div>
</div>
<div id="box3">
  <div class="top">
  	<button class="now">1</button>
  	<button>2</button>
  	<button>3</button>
  </div>
  <div class="bottom">
  	<div class="b now" >1号</div>
  	<div class="b">2号</div>
  	<div class="b">3号</div>
  </div>
</div>

</body>
</html>